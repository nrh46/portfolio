<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lab 2 - MAE 4190: Fast Robots</title>

  <style>
    /* -------------------- Base / Reset -------------------- */
    * { margin: 0; padding: 0; box-sizing: border-box; }

    html, body { width: 100%; }
    body {
      font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, Oxygen, Ubuntu, sans-serif;
      line-height: 1.65;
      color: #333;
      background-color: #f5f5f5;

      /* Make sure long content wraps instead of going offscreen */
      overflow-x: hidden;
      word-break: normal;
      overflow-wrap: anywhere;
    }

    /* Ensure media never causes horizontal overflow */
    img, video, canvas, svg { max-width: 100%; height: auto; display: block; }

    /* -------------------- Layout -------------------- */
    header {
      background-color: #2c3e50;
      color: #fff;
      padding: 2rem 1rem;
      text-align: center;
    }
    header h1 { font-size: 2rem; margin-bottom: 0.5rem; }
    header p  { font-size: 1.1rem; opacity: 0.92; }

    main {
      max-width: 900px;
      margin: 2rem auto;
      padding: 0 1rem;
    }

    section {
      background-color: #fff;
      padding: 2rem;
      margin-bottom: 2rem;
      border-radius: 8px;
      box-shadow: 0 2px 4px rgba(0,0,0,0.1);
    }

    section h2 {
      color: #2c3e50;
      margin-bottom: 1rem;
      border-bottom: 2px solid #3498db;
      padding-bottom: 0.5rem;
    }

    section h3 {
      margin-top: 1.25rem;
      margin-bottom: 0.35rem;
      color: #2c3e50;
    }

    p { margin: 0.5rem 0 0.75rem; }

    /* -------------------- Images -------------------- */
    .lab-image {
      width: 100%;
      max-width: 720px;
      margin: 0.75rem auto 1rem;
      border-radius: 8px;
      border: 1px solid rgba(0,0,0,0.12);
      box-shadow: 0 1px 2px rgba(0,0,0,0.06);
    }

    /* -------------------- Code Blocks (Black Box + Color) -------------------- */
    pre {
      margin: 0.75rem 0 1.25rem;
      padding: 1rem 1rem;
      background: #0b0f14;
      border: 2px solid #000;
      border-radius: 10px;
      overflow-x: auto;
      max-width: 100%;
    }

    code {
      font-family: ui-monospace, SFMono-Regular, Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
      font-size: 0.95rem;
      line-height: 1.55;
      color: #e6edf3;
      white-space: pre;
    }

    /* Simple “good enough” syntax highlighting without JS libs */
    .code-arduino .comment,
    .code-python  .comment { color: #7ee787; }

    .code-arduino .kw,
    .code-python  .kw { color: #ff7b72; font-weight: 600; }

    .code-arduino .type { color: #79c0ff; }
    .code-python  .bi   { color: #79c0ff; }

    .code-arduino .str,
    .code-python  .str { color: #a5d6ff; }

    .code-arduino .num,
    .code-python  .num { color: #d2a8ff; }

    footer {
      text-align: center;
      padding: 1.25rem 1rem 2rem;
      color: #666;
      font-size: 0.9rem;
    }

    footer a {
      color: #3498db;
      text-decoration: none;
      font-weight: 500;
    }

    footer a:hover { text-decoration: underline; }

    @media (max-width: 600px) {
      section { padding: 1.25rem; }
      header  { padding: 1.5rem 1rem; }
    }
  </style>
</head>

<body>
  <header>
    <h1>Lab 2</h1>
    <p>MAE 4190: Fast Robots</p>
  </header>

  <main>
    <!-- -------------------- Setting Up the IMU-->
    <section id="setup-imu">
      <h2>Setting Up the IMU</h2>

        <h3>Artemis to IMU connection</h3>
            <img class="lab-image" src="../assets/images/Artemis_IMU_connect.jpg" alt="IMU setup" />
        
        <!-- YouTube Shorts Embed (plays inline on the page) -->
        <p>Below is a video of the IMU example code output via the serial plotter in the Arduino IDE.</p>
        <div style="max-width: 420px; margin: 0.75rem auto 1.25rem; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.12);">
            <div style="position: relative; width: 100%; padding-top: 177.78%; background: #000;">
                <iframe
                src="https://www.youtube.com/embed/ZhJLFCZlG5c"
                title="YouTube Shorts video player"
                style="position: absolute; inset: 0; width: 100%; height: 100%; border: 0;"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                ></iframe>
            </div>
        </div>
        <h3>ADO_VAL</h3>
        <p>The AD0_VAL value sets which I2C address the IMU uses. 
            When the value is set to 1, such as in the example code, the IMU uses the default address of all zeros. 
            When the value is set to 0, the board uses another address, which causes the example code in the IDE to not read the data stream correctly.</p>
        <h3>Acceleration and Gyroscope Data Discussion</h3>
            <img class="lab-image" src="../assets/images/stationary_IMU.png" alt="IMU Output Example" />
            <p>From the above image: The Scaled. Acc (mg) values show acceleration along the X, Y, and Z axes in milligravity (1000mg = 1g). The small X and Y readings indicate noise from those sensors, while the 1038 mg in the Z direction shows gravity is mostly aligned with the Z-axis, meaning the board is upright. 
                The Gyr (DPS) values give angular velocity about each axis in degrees per second, with the very small readings indicating almost no rotation or likely sensor noise.</p>
            <p>Below is an example of output while the IMU is moving:</p>
            <img class="lab-image" src="../assets/images/IMU_Out_example.png" alt="IMU Output Example" />
            
    </section>

    <!-- -------------------- Accelerometer -------------------- -->
    <section id="accelerometer">
      <h2>Accelerometer</h2>

        <h3>Pitch and Roll Outputs at {-90, 0, 90} degrees</h3>
        <h4>Pitch</h4>
        <img class="lab-image" src="../assets/images/pitch-90.png" alt="Pitch -90 Deg" />
        <img class="lab-image" src="../assets/images/pitch0.png" alt="Pitch 0 Deg" />
        <img class="lab-image" src="../assets/images/pitch90.png" alt="Pitch 90 Deg" />
        <h4>Roll</h4>
        <img class="lab-image" src="../assets/images/roll-90.png" alt="Roll -90 Deg" />
        <img class="lab-image" src="../assets/images/roll0.png" alt="Roll 0 Deg" />
        <img class="lab-image" src="../assets/images/roll90.png" alt="Roll 90 Deg" />
        <p>The code I used to represent the equations from class in the arduino IDE is here:</p>
        <pre class="code-arduino"><code>
        <span class="type">float</span> pitch;
        <span class="type">float</span> roll;

        pitch = atan2(myICM.accX(), myICM.accZ()) * <span class="num">180</span> / M_PI; 
        roll  = atan2(myICM.accY(), myICM.accZ()) * <span class="num">180</span> / M_PI;

        SERIAL_PORT.print(pitch);
        SERIAL_PORT.print(<span class="str">","</span>);
        SERIAL_PORT.println(roll);
        </code></pre>

        <h3>Accuracy Observations</h3>
        <p>
            The pitch and roll outputs were generally accurate at the tested angles, showing close values near -90, 0, and 90 degrees. 
            However, there was significant noise in the readings especially when considering the -90 or 90 degree positions for both pitch and roll.  
            This noise leads the data to be very imprecise despite being generally accurate, which could influence later positional calculations.
        </p>

        <code class="code-arduino"><pre><code>

    
    </section>

    <!-- -------------------- Gyroscope -------------------- -->
    <section id="gyroscope">
      <h2>Gyroscope</h2>

      <h3>What I Measured</h3>
      <p>
        I logged the gyroscope angular rate outputs along each axis. At rest, I expected readings near zero with
        a small bias; during manual rotations, the axis aligned with rotation should respond strongly.
      </p>

      <h3>Bias / Drift Notes</h3>
      <p>
        I observed a small nonzero offset at rest (bias). Over longer time windows, integrating gyro rates can lead
        to drift, which is why later labs typically fuse accel + gyro data.
      </p>

      <pre class="code-arduino"><code>
<span class="comment">// Example gyroscope print (replace with your variables)</span>
Serial.print(<span class="str">"GYRO,"</span>);
Serial.print(gx); Serial.print(<span class="str">","</span>);
Serial.print(gy); Serial.print(<span class="str">","</span>);
Serial.println(gz);</code></pre>

      <p>
        <em>Image placeholder:</em> add a plot/screenshot showing gyro response during a rotation.
      </p>
      <!-- <img class="lab-image" src="../assets/images/lab2_gyro_plot.jpg" alt="Gyroscope sample plot" /> -->
    </section>

    <!-- -------------------- Sample Data -------------------- -->
    <section id="sample-data">
      <h2>Sample Data</h2>

      <h3>Data Format</h3>
      <p>
        I stored / streamed data in a consistent CSV-like format so it could be quickly parsed for plotting and analysis.
        A typical row included a timestamp and the accelerometer + gyroscope values.
      </p>

      <pre class="code-python"><code>
<span class="comment"># Example parsing skeleton (replace with your workflow)</span>
<span class="kw">import</span> pandas <span class="kw">as</span> pd

<span class="comment"># df = pd.read_csv("lab2_imu.csv")</span>
<span class="comment"># df.columns = ["t_ms","ax","ay","az","gx","gy","gz"]</span>

<span class="comment"># Quick check</span>
<span class="comment"># print(df.head())</span></code></pre>

      <h3>Observations</h3>
      <p>
        In the sample dataset, the accelerometer showed clear changes with orientation and motion, while the gyroscope
        captured quick rotational impulses more cleanly. Noise levels were small but noticeable, especially during
        hand motion.
      </p>

      <p>
        <em>Image placeholder:</em> add a plot of accel + gyro vs time (or screenshots from your analysis).
      </p>
      <!-- <img class="lab-image" src="../assets/images/lab2_sample_data.jpg" alt="Sample IMU data plot" /> -->
    </section>

    <!-- -------------------- My stunt -------------------- -->
    <section id="my-stunt">
      <h2>Messing Around with the Car</h2>

      <div style="max-width: 420px; margin: 0.75rem auto 1.25rem; border-radius: 12px; overflow: hidden; box-shadow: 0 2px 6px rgba(0,0,0,0.12);">
            <div style="position: relative; width: 100%; padding-top: 177.78%; background: #000;">
                <iframe
                src="https://youtube.com/shorts/H2jF9x0HNDo"
                title="YouTube Shorts video player"
                style="position: absolute; inset: 0; width: 100%; height: 100%; border: 0;"
                allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
                allowfullscreen
                ></iframe>
            </div>
        </div>
      <p>
        For the last part of this lab I drove the car around to get a feeling for it's dynamics. As seen in the clip above the car is pretty easy to get off the ground, 
        and it often skids when making turns at high speeds. While I also tried to keep it more grounded outside this clip, I found that the car tends to become unstable very easily.
      </p>
    </section>

    <!-- -------------------- References -------------------- -->
    <section id="references">
      <h2>References</h2>
      <p>
        For this lab, I referenced the in class notes for equations. I also referenced the class pages of Jack Long and Aidan Derocher for formatting and when I was stuck. I also used chatGPT for syntax and formatting.
      </p>
    </section>
  </main>

  <footer>
    <p>
      <a href="https://nrh46.github.io/portfolio/labs/labs_home.html">← Back to Labs Index</a>
    </p>
    <p>Spring 2026 Lab 2 - MAE 4190: Fast Robots</p>
  </footer>
</body>
</html>
